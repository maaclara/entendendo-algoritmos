name: ğŸ”® VerificaÃ§Ã£o MÃ­stica (CI)

# Quando esse robÃ´ acorda?
on:
  push:
    branches: [ "main" ]

jobs:
  auditoria-de-codigo:
    runs-on: ubuntu-latest # A mÃ¡quina virtual que o GitHub empresta

    steps:
    # 1. Baixa seu cÃ³digo na mÃ¡quina do GitHub
    - name: ğŸ“¥ Baixando o grimÃ³rio (Checkout)
      uses: actions/checkout@v3

    # 2. Instala o Python lÃ¡
    - name: ğŸ Invocando o Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.10'

    # 3. Instala o Flake8 (nosso auditor)
    - name: ğŸ“¦ Instalando ferramentas de magia
      run: |
        python -m pip install --upgrade pip
        pip install flake8

    # 4. Roda a verificaÃ§Ã£o!
    - name: ğŸ§¹ Passando o Pente Fino (Linting)
      run: |
        # Procura erros de sintaxe ou nomes indefinidos (Se achar, FALHA o build âŒ)
        flake8 . --count --select=E9,F63,F7,F82 --show-source --statistics
        
        # Procura problemas de estilo (cÃ³digo feio), mas nÃ£o trava o build (apenas avisa)
        flake8 . --count --exit-zero --max-complexity=10 --max-line-length=127 --statistics